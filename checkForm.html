<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<script language="javascript">
function checkForm(myForm) {
  var arr=myForm.elements; 
	for(i=0;i<arr.length;i++) {
		if(arr[i].className=="bt" && arr[i].value=="") {
			alert("必填字段不能为空！")
			return false;
		}
	}
	var user=myForm.username.value;
	var reg=/^[A-Za-z0-9]+$/;
	if(!reg.test(user)) {
		alert("用户名不合法")
		return false;
	}
	if(myForm.ps1.value.length<6 || f.ps1.value.length>18) {
		alert("密码不合法！")
		return false;
	}
	if(myForm.ps1.value!=myForm.ps2.value) {
		alert("两次密码不一致！")
		return false;
	}
	var email=myForm.em.value;
	var reg=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/
	if(!reg.test(email)) {
		alert("email不合法！")
		return false;
	}
	if(myForm.sjh.value.length!=11) {
		alert("手机号码不合法！")
		return false;
	}
	var rq=myForm.sr.value;
	var ar=rq.split("-");
	var reg=/^\d{4}-\d{1,2}-\d{1,2}$/;
	var n=new Date();
	var year=n.getFullYear();
	if(!reg.test(rq) || ar[0]<year-100 || ar[0]>year || ar[1]<1 || ar[1]>12) {
		alert("出生日期不合法!")
		return false;
	}
	var d;
	switch(ar[1]) {
		case "1":
		case "3":
		case "5":
		case "7":
		case "8":
		case "10":
		case "12":
		if(ar[1]<1 || ar[1]>31) {
			alert("出生日期不合法!")
			return false;
		}
		break;
		case "4":
		case "6":
		case "9":
		case "11":
		if(ar[1]<1 || ar[1]>30) {
			alert("出生日期不合法!")
			return false;
		}
		break;
		case "2":
		if((year%4==0 && year%100==0) || year%400==0) {
			d=29;
		} else {
			d=28;
		}
		if(ar[2]<1 || ar[2]>d) {
			alert("出生日期不合法！")
			return false;
		}
	}
}
</script>
</head>

<body>
<table width="400" height="20" border="1" align="center">
<form name="f" onsubmit="return checkForm(this)">
  <tr>
    <td colspan="2" align="center">用户注册</td>
  </tr>
  <tr>
    <td width="98">用户名*</td>
    <td width="286"><input type="text" name="username" class="bt" /></td>
  </tr>
  <tr>
    <td>密码*</td>
    <td><input type="password" name="ps1" class="bt"/></td>
  </tr>
  <tr>
    <td>重输密码*</td>
    <td><input type="password" name="ps2" class="bt"/></td>
  </tr>
  <tr>
    <td>email*</td>
    <td><input type="text" name="em" class="bt"/></td>
  </tr>
  <tr>
    <td>真实姓名*</td>
    <td><input type="text" name="xm" class="bt"/></td>
  </tr>
  <tr>
    <td>性别</td>
    <td><input type="radio" name="gender"/>男
    	<input type="radio" name="gender"/>女
    </td>
  </tr>
  <tr>
    <td>手机号码*</td>
    <td><input type="text" name="sjh" class="bt" /></td>
  </tr>
  <tr>
    <td>出生日期</td>
    <td><input type="text" name="sr" /></td>
  </tr>
  <tr>
    <td>地址</td>
    <td><input type="text" name="dz" /></td>
  </tr>
  <tr>
    <td>邮编</td>
    <td><input type="text" name="yb" /></td>
  </tr>
  <tr>
    <td colspan="2" align="center"><input type="submit" value="注册" /></td>
  </tr>
</form>
</table>
</body>
</html>
